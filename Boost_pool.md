# Boost.pool

## Вводное слово
Boost.Pool представляет собой очень быстрый алгоритм выделения памяти, быстродействие которого достигается за счет ограничения области применения, т.е. потерей универсальности.

## Принцип работы 
Boost.Pool разделяет сегменты памяти с одинаковым размером. Каждый раз, когда вы запрашиваете память от Boost.Pool, библиотека получает доступ к следующий свободный сегмент и выделяет память из этого сегмента к вам. Весь сегмент не затем отмечен как используется, независимо от того, сколько байтов вы на самом деле нужно от этого сегмента.

Эта концепция управления памятью называется простым сегрегация хранения . Это единственная концепция поддерживается Boost.Pool. Это особенно полезно , если множество объектов одного и того же размера должны быть созданы и уничтожены часто. В этом случае необходимая память может быть обеспечена и быстро высвобождается.

---

## Примеры использования 

### boost::simple_segregated_storage
Boost.Pool предоставляет класс boost::simple_segregated_storage для создания и управления сегрегированное памяти. 
boost::simple_segregated_storage - класс низкого уровня , который мы обычно не будем использовать в своих программах напрямую.
Все остальные классы от Boost.Pool внутренне основанны на boost::simple_segregated_storage

#### Пример с boost::simple_segregated_storage
```
#include <boost/pool/simple_segregated_storage.hpp>
#include <vector>
#include <cstddef>

int main()
{
  boost::simple_segregated_storage<std::size_t> storage;
  std::vector<char> v(1024);
  storage.add_block(&v.front(), v.size(), 256);

  int *i = static_cast<int*>(storage.malloc());
  *i = 1;

  int *j = static_cast<int*>(storage.malloc_n(1, 512));
  j[10] = 2;

  storage.free(i);
  storage.free_n(j, 1, 512);
}
```
